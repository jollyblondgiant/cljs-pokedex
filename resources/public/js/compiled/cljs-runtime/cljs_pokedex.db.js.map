{"version":3,"sources":["cljs_pokedex/db.cljs"],"mappings":";AAOA,6BAAA,2CAAA,qDAAA,WAAA,wDAAA,KAAA,wDAAA,kCAAA,2DAAA,KAAA,2DAAA,IAAA,0DAAA,KAAA,qDAAA,KAAA,4DAAA,nlBAAKA;AAWL,yBAAA,zBAAKC","names":["cljs-pokedex.db/default-db","cljs-pokedex.db/db-uri"],"sourcesContent":["(ns cljs-pokedex.db\n  (:require-macros [cljs.core.async.macros :refer [go]])\n  (:require [cljs-http.client :as http]\n            ;;[datomic-cljs.api :as d]\n            [cljs.core.async :refer [<!]]\n            [re-frame.core :as re-frame :refer [subscribe dispatch]]))\n\n(def default-db\n  {:name \"re-frame\"\n   :guess nil\n   :caught #{}\n   :pokemon nil\n   :strikes 3\n   :trainer nil\n   :login nil\n   :regions #{}})\n\n\n(def db-uri \"datomic:mem://foo\")\n#_(def poke-schema [{:db/ident :pokemon/name\n                   :db/valueType :db.type/string\n                   :db/cardinality :db.cardinality/one}\n                  {:db/ident :pokemon/num\n                   :db/valueType :db.type/string\n                   :db/cardinality :db.cardinality/one}\n                  {:db/ident :pokemon/sprite\n                   :db/valueType :db.type/string\n                   :db/cardinality :db.cardinality/one}\n                  {:db/ident :pokemon/description\n                   :db/valueType :db.type/string\n                   :db/cardinality :db.cardinality/one}])\n\n;; (defonce domain-schemas [poke-schema])\n;; (d/create-database db-uri)\n;; (defonce conn (d/connect db-uri))\n;; (map (fn [tx] @(d/transact conn tx)) domain-schemas)\n\n;; (defn add-pokemon \"\" [pokemon]\n;;   (->> [{:pokemon/description (:description pokemon)\n;;          :pokemon/name (:name pokemon)\n;;          :pokemon/sprite (:sprite pokemon)\n;;          :pokemon/num (:num pokemon)}]\n;;        (d/transact conn)))\n\n;; (defn remove-pokemon \"\" [id]\n;;   )\n\n;; (defn get-pokemon \"\" [id]\n;;   (d/q\n;;    '[:find ?pokemon\n;;      :in $ ?id\n;;      :where\n;;      [?pokemon :pokemon/num ?id]]\n;;    (d/db conn)\n;;    id))\n\n;; (defn getall-pokemon \"\" []\n;;   (d/q\n;;    '[:find ?description ?name ?num ?sprite\n;;      :where\n;;      [?pokemon :pokemon/description ?description]\n;;      [?pokemon :pokemon/name ?name]\n;;      [?pokemon :pokemon/sprite ?sprite]\n;;      [?pokemon :pokemon/num ?num]]))\n"]}